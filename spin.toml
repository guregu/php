spin_version = "1"
name = "prolog-php"
description = "Prolog Home Page"
trigger = { type = "http", base = "/" }
version = "0.2.0"

[[component]]
id = "prolog"
description = "PHP: Prolog Home Page"
#source = "libtpl-spin.wasm"
files = [{ source = "www/", destination = "/"}]
allowed_http_hosts = ["insecure:allow-all"]
key_value_stores = ["default"]
[component.trigger]
route = "/..."
[component.source]
url = "https://github.com/guregu/trealla/releases/download/v0.17.1/libtpl-spin.wasm"
digest = "sha256:ae4f24fc897917844cf8cc81d9035443cf2fbf5b4cba757457567e6ab05d3635"
[component.environment]
#INIT = "init-php.pl"
TPL_LIBRARY_PATH = "lib"
PHP_ROOT = "public_html"
#POSTGRES_URL = "postgres://root:password@example.com/neondb"

[[component]]
id = "assets"
description = "static files"
files = [{ source = "www/assets/", destination = "/"}]
[component.source]
url = "https://github.com/fermyon/spin-fileserver/releases/download/v0.0.2/spin_static_fs.wasm"
digest = "sha256:65456bf4e84cf81b62075e761b2b0afaffaef2d0aeda521b245150f76b96421b"
[component.trigger]
route = "/assets/..."
